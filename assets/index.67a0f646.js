import{d as B,c,r as M,a as g,b as v,e as b,f as D,D as w,M as T,w as $,n as I,g as V,o as q,h as K,i as H}from"./vendor.3cd730f9.js";const J=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}};J();const Q="_white_r8dfj_1",W="_black_r8dfj_2",X="_transparent_r8dfj_3",Y="_small_r8dfj_17",Z="_medium_r8dfj_21";var P={white:Q,black:W,transparent:X,small:Y,medium:Z},F=B({name:"Piece",props:{theme:{type:String,default:"white"},size:{type:String,default:"medium"},style:[String,Object],onClick:Function},render(){return c("div",{class:[P[this.theme],P[this.size]],style:this.style,onClick:this.onClick},null)}});const ee="_checkerboard_60x6v_1";var te={checkerboard:ee},ne=B({name:"Checkerboard",render(){return c("div",{class:te.checkerboard},[M(this.$slots,"default")])}}),h;(function(e){e[e.transparent=0]="transparent",e[e.black=1]="black",e[e.white=2]="white"})(h||(h={}));const se="_checkerboardBox_1h8xl_1",ae="_disabled_1h8xl_4";var S={checkerboardBox:se,disabled:ae},oe=B({name:"Gobang",props:{board:Array,onPieceClick:Function,disabled:Boolean},render(){return c("div",{class:S.checkerboardBox},[c(ne,null,{default:()=>{var e;return[(e=this.board)==null?void 0:e.map((t,r)=>t.map((l,a)=>c(F,{key:`${r}-${a}`,theme:h[l],onClick:()=>{var s;return(s=this.onPieceClick)==null?void 0:s.call(this,r,a)},style:{marginTop:`${r*50}px`,marginLeft:`${a*47}px`}},null)))]}}),c("div",{class:this.disabled?S.disabled:null},null)])}});const ie="_card_97ucg_1",le="_shows_97ucg_9",re="_operation_97ucg_10",ue="_nowTheme_97ucg_22";var A={card:ie,shows:le,operation:re,nowTheme:ue},ce=B({name:"Panel",props:{stepsNum:Number,isEnd:Boolean,startDisabled:Boolean,endDisabled:Boolean,goBackDisabled:Boolean,reGoBackDisabled:Boolean,nowTheme:{type:Number,default:1},onGoBack:Function,onReGoBack:Function,onAdmitDefeat:Function,onClear:Function,onConfig:Function},render(){return c("div",{class:A.card},[c("div",{class:A.shows},[c("div",{class:A.nowTheme},[g("\u6267\u68CB\u65B9\uFF1A"),c(F,{theme:h[this.nowTheme],size:"small",style:{left:"64px",top:"-7px"}},null)]),c("div",null,[g("\u603B\u6B65\u6570\uFF1A"),this.stepsNum])]),c("div",{class:A.operation},[c(v("t-button"),{theme:"default",variant:"base",disabled:this.startDisabled,onClick:()=>{var e;return(e=this.onConfig)==null?void 0:e.call(this)}},{default:()=>[g("\u8BBE\u7F6E")]}),this.isEnd?c(v("t-button"),{theme:"danger",variant:"base",disabled:this.endDisabled,onClick:()=>{var e;return(e=this.onClear)==null?void 0:e.call(this)}},{default:()=>[g("\u6E05\u76D8")]}):c(v("t-button"),{theme:"danger",variant:"base",disabled:this.endDisabled,onClick:()=>{var e;return(e=this.onAdmitDefeat)==null?void 0:e.call(this)}},{default:()=>[g("\u8BA4\u8F93")]}),c(v("t-button"),{theme:"default",variant:"dashed",disabled:this.goBackDisabled,onClick:()=>{var e;return(e=this.onGoBack)==null?void 0:e.call(this)}},{default:()=>[g("\u4E0A\u4E00\u6B65")]}),c(v("t-button"),{theme:"default",variant:"dashed",disabled:this.reGoBackDisabled,onClick:()=>{var e;return(e=this.onReGoBack)==null?void 0:e.call(this)}},{default:()=>[g("\u4E0B\u4E00\u6B65")]})])])}});function N(){return[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}function L(e){return e===h.black?h.white:h.black}function R(e,t,r,l){let a=0,s=0,o=0,d=0;const[u,f]=e;for(let n=f;n>=0&&l[u][n]===t;n--)s++;for(let n=f+1;n<15&&l[u][n]==t;n++)s++;for(let n=u;n>=0&&l[n][f]==t;n--)a++;for(let n=u+1;n<15&&l[n][f]==t;n++)a++;for(let n=0;n<15&&!(u-n<0||f-n<0||l[u-n][f-n]!=t);n++)d++;for(let n=1;n<15&&!(u+n>15||f+n>15||l[u+n][f+n]!=t);n++)d++;for(let n=0;n<15&&!(u-n<0||f+n>15||l[u-n][f+n]!=t);n++)o++;for(let n=1;n<15&&!(u+n>15||f-n<0||l[u+n][f-n]!=t);n++)o++;return a>=r?{result:!0,direction:"upAndDown"}:s>=r?{result:!0,direction:"leftAndRight"}:o>=r?{result:!0,direction:"leftAndUp"}:d>=r?{result:!0,direction:"rightAndUp"}:{result:!1,direction:""}}function j(e,t,r,l){if(r==="upAndDown"){if(l[e+1][t]===h.transparent)return[e+1,t];if(l[e-1][t]===h.transparent)return[e-1,t]}else if(r==="leftAndRight"){if(l[e][t+1]===h.transparent)return[e,t+1];if(l[e][t-1]===h.transparent)return[e,t-1]}else if(r==="leftAndUp"){if(l[e-1][t+1]===h.transparent)return[e-1,t+1];if(l[e+1][t-1]===h.transparent)return[e+1,t-1]}else if(r==="rightAndUp"){if(l[e+1][t+1]===h.transparent)return[e+1,t+1];if(l[e-1][t-1]===h.transparent)return[e-1,t-1]}}function de(e,t){const r=[...e],l=r.pop(),a=r.pop();let s=[0,0];if(l){const{position:o,theme:d}=l,{result:u,direction:f}=R(o,d,3,t);if(u){const[n,_]=o,m=j(n,_,f,t);m&&(s=m)}}if(a){const{position:o,theme:d}=a,{result:u,direction:f}=R(o,d,3,t);if(u){const[n,_]=o,m=j(n,_,f,t);m&&(s=m)}}if(s[0]===0&&s[1]===0){const o=t.findIndex(u=>u.some(f=>f===0)),d=t[o].findIndex(u=>u===0);s=[o,d]}return s}function fe({handleVictoryMsg:e}){const t=b(!1),r=b(!1),l=D(()=>r.value?h.black:h.white),a=b(!1),s=b(N()),o=b([]),d=b([]),u=D(()=>{const{value:i}=o,p=i.length;return p?L(i[p-1].theme):h.black}),f=D(()=>L(u.value));function n(i,p){s.value[i][p]=u.value,o.value.push({position:[i,p],theme:u.value}),d.value.length&&(d.value=[])}function _(){s.value=N(),o.value=[],d.value=[],a.value=!1,t.value=!1,r.value=!1}function m(){_();const i=w.confirm({header:"\u6E38\u620F\u8BBE\u7F6E",body:"\u662F\u5426\u4EBA\u673A\u5BF9\u6218",confirmBtn:"\u786E\u5B9A",cancelBtn:"\u53D6\u6D88",onConfirm:({e:p})=>{var G;(G=i.hide)==null||G.call(i);const k=w.confirm({header:"\u6E38\u620F\u8BBE\u7F6E",body:"\u662F\u5426\u7535\u8111\u5148\u624B",confirmBtn:"\u786E\u5B9A",cancelBtn:"\u53D6\u6D88",onConfirm:({e:C})=>{var x;t.value=!0,r.value=!0,n(7,7),(x=k.hide)==null||x.call(k)},onClose:()=>{var C;t.value=!0,r.value=!1,(C=k.hide)==null||C.call(k)}})},onClose:()=>{var p;(p=i.hide)==null||p.call(i)}})}function y(){a.value=!0,T.success({content:()=>e(f.value),duration:1e3})}function U(){if(o.value.length)if(t.value){const i=o.value.pop(),p=o.value.pop();s.value[i.position[0]][i.position[1]]=0,s.value[p.position[0]][p.position[1]]=0,d.value.push(i),d.value.push(p)}else{const i=o.value.pop();s.value[i.position[0]][i.position[1]]=0,d.value.push(i)}}function z(){if(d.value.length)if(t.value){const i=d.value.pop(),p=d.value.pop();s.value[i.position[0]][i.position[1]]=i.theme,s.value[p.position[0]][p.position[1]]=p.theme,o.value.push(i),o.value.push(p)}else{const i=d.value.pop();s.value[i.position[0]][i.position[1]]=i.theme,o.value.push(i)}}return $(()=>{if(a.value||o.value.length<9)return!1;const i=o.value[o.value.length-1],{result:p}=R(i.position,i.theme,5,s.value);p&&y()}),$(()=>{a.value||!o.value.length&&!r.value||t.value&&l.value===u.value&&I(()=>{const[i,p]=de(o.value,s.value);n(i,p)})}),{isEndRef:a,boardRef:s,stepsRef:o,regretsRef:d,nowThemeRef:u,winnerRef:f,handleClickPiece:n,handleConfig:m,handleAdmitDefeat:y,handleClear:_,handleGoBack:U,handleReGoBack:z}}const pe="_layout_igiop_1",he="_header_igiop_4",ve="_content_igiop_11",me="_footer_igiop_15",ge="_card_igiop_19",_e="_shows_igiop_27",ke="_operation_igiop_28";var E={layout:pe,header:he,content:ve,footer:me,card:ge,shows:_e,operation:ke},Be=B({name:"GameInterface",setup(){function e(y){return c("div",{style:{display:"flex",alignItems:"center"}},[c(F,{theme:h[y],size:"small",style:{position:"unset"}},null),c("div",{style:{marginLeft:"10px"}},[g("\u80DC\u5229\uFF01\u70B9\u51FB [\u4E0A\u4E00\u6B65]\u3001[\u4E0B\u4E00\u6B65] \u6309\u94AE\u590D\u76D8\u5F53\u524D\u5C40\u3002\u70B9\u51FB [\u6E05\u76D8] \u91CD\u7F6E\u6E38\u620F\u3002")])])}const{isEndRef:t,boardRef:r,stepsRef:l,regretsRef:a,nowThemeRef:s,winnerRef:o,handleClickPiece:d,handleConfig:u,handleAdmitDefeat:f,handleClear:n,handleGoBack:_,handleReGoBack:m}=fe({handleVictoryMsg:e});return{isEnd:t,board:r,steps:l,regrets:a,nowTheme:s,winner:o,handleClickPiece:d,handleConfig:u,handleAdmitDefeat:f,handleClear:n,handleGoBack:_,handleReGoBack:m}},render(){const{steps:e,isEnd:t}=this;return c(v("t-layout"),{class:E.layout},{default:()=>[c(v("t-header"),{class:E.header},{default:()=>[g("\u4E94\u5B50\u68CB\u6E38\u620F")]}),c(v("t-content"),{class:E.content},{default:()=>[c(oe,{board:this.board,onPieceClick:this.handleClickPiece,disabled:t},null)]}),c(v("t-footer"),{class:E.footer},{default:()=>[c(ce,{stepsNum:e.length,isEnd:t,startDisabled:t||!!e.length,endDisabled:!e.length,goBackDisabled:!e.length,reGoBackDisabled:!this.regrets.length,nowTheme:this.nowTheme,onGoBack:this.handleGoBack,onReGoBack:this.handleReGoBack,onAdmitDefeat:this.handleAdmitDefeat,onClear:this.handleClear,onConfig:this.handleConfig},null)]})]})}});var be=(e,t)=>{const r=e.__vccOpts||e;for(const[l,a]of t)r[l]=a;return r};const ye=B({name:"App",components:{GameProgram:Be}});function Ae(e,t,r,l,a,s){const o=v("GameProgram");return q(),V(o)}var Ee=be(ye,[["render",Ae]]);const O=K(Ee);O.use(H);O.mount("#app");
