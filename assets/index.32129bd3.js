import{d as B,c,r as M,a as v,b as g,e as b,f as D,D as w,M as T,w as $,n as I,g as V,o as q,h as K,i as H}from"./vendor.3cd730f9.js";const J=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function l(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=l(s);fetch(s.href,o)}};J();const Q="_white_r8dfj_1",W="_black_r8dfj_2",X="_transparent_r8dfj_3",Y="_small_r8dfj_17",Z="_medium_r8dfj_21";var P={white:Q,black:W,transparent:X,small:Y,medium:Z},F=B({name:"Piece",props:{theme:{type:String,default:"white"},size:{type:String,default:"medium"},style:[String,Object],onClick:Function},render(){return c("div",{class:[P[this.theme],P[this.size]],style:this.style,onClick:this.onClick},null)}});const ee="_checkerboard_60x6v_1";var te={checkerboard:ee},ne=B({name:"Checkerboard",render(){return c("div",{class:te.checkerboard},[M(this.$slots,"default")])}}),h;(function(e){e[e.transparent=0]="transparent",e[e.black=1]="black",e[e.white=2]="white"})(h||(h={}));const se="_checkerboardBox_1h8xl_1",oe="_disabled_1h8xl_4";var N={checkerboardBox:se,disabled:oe},ae=B({name:"Gobang",props:{board:Array,onPieceClick:Function,disabled:Boolean},render(){return c("div",{class:N.checkerboardBox},[c(ne,null,{default:()=>{var e;return[(e=this.board)==null?void 0:e.map((n,l)=>n.map((i,s)=>c(F,{key:`${l}-${s}`,theme:h[i],onClick:()=>{var o;return(o=this.onPieceClick)==null?void 0:o.call(this,l,s)},style:{marginTop:`${l*50}px`,marginLeft:`${s*47}px`}},null)))]}}),c("div",{class:this.disabled?N.disabled:null},null)])}});const ie="_card_97ucg_1",le="_shows_97ucg_9",re="_operation_97ucg_10",ue="_nowTheme_97ucg_22";var A={card:ie,shows:le,operation:re,nowTheme:ue},ce=B({name:"Panel",props:{stepsNum:Number,isEnd:Boolean,startDisabled:Boolean,endDisabled:Boolean,goBackDisabled:Boolean,reGoBackDisabled:Boolean,nowTheme:{type:Number,default:1},onGoBack:Function,onReGoBack:Function,onAdmitDefeat:Function,onClear:Function,onConfig:Function},render(){return c("div",{class:A.card},[c("div",{class:A.shows},[c("div",{class:A.nowTheme},[v("\u6267\u68CB\u65B9\uFF1A"),c(F,{theme:h[this.nowTheme],size:"small",style:{left:"64px",top:"-7px"}},null)]),c("div",null,[v("\u603B\u6B65\u6570\uFF1A"),this.stepsNum])]),c("div",{class:A.operation},[c(g("t-button"),{theme:"default",variant:"base",disabled:this.startDisabled,onClick:()=>{var e;return(e=this.onConfig)==null?void 0:e.call(this)}},{default:()=>[v("\u8BBE\u7F6E")]}),this.isEnd?c(g("t-button"),{theme:"danger",variant:"base",disabled:this.endDisabled,onClick:()=>{var e;return(e=this.onClear)==null?void 0:e.call(this)}},{default:()=>[v("\u6E05\u76D8")]}):c(g("t-button"),{theme:"danger",variant:"base",disabled:this.endDisabled,onClick:()=>{var e;return(e=this.onAdmitDefeat)==null?void 0:e.call(this)}},{default:()=>[v("\u8BA4\u8F93")]}),c(g("t-button"),{theme:"default",variant:"dashed",disabled:this.goBackDisabled,onClick:()=>{var e;return(e=this.onGoBack)==null?void 0:e.call(this)}},{default:()=>[v("\u4E0A\u4E00\u6B65")]}),c(g("t-button"),{theme:"default",variant:"dashed",disabled:this.reGoBackDisabled,onClick:()=>{var e;return(e=this.onReGoBack)==null?void 0:e.call(this)}},{default:()=>[v("\u4E0B\u4E00\u6B65")]})])])}});function S(){return[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}function L(e){return e===h.black?h.white:h.black}function R(e,n,l,i){let s=0,o=0,a=0,f=0;const[r,d]=e;for(let t=d;t>=0&&i[r][t]===n;t--)o++;for(let t=d+1;t<15&&i[r][t]==n;t++)o++;for(let t=r;t>=0&&i[t][d]==n;t--)s++;for(let t=r+1;t<15&&i[t][d]==n;t++)s++;for(let t=0;t<15&&!(r-t<0||d-t<0||i[r-t][d-t]!=n);t++)f++;for(let t=1;t<15&&!(r+t>15||d+t>15||i[r+t][d+t]!=n);t++)f++;for(let t=0;t<15&&!(r-t<0||d+t>15||i[r-t][d+t]!=n);t++)a++;for(let t=1;t<15&&!(r+t>15||d-t<0||i[r+t][d-t]!=n);t++)a++;return console.log("upAndDown",s),console.log("leftAndRight",o),console.log("leftAndUp",a),console.log("rightAndUp",f),s>=l?{result:!0,direction:"upAndDown"}:o>=l?{result:!0,direction:"leftAndRight"}:a>=l?{result:!0,direction:"leftAndUp"}:f>=l?{result:!0,direction:"rightAndUp"}:{result:!1,direction:""}}function U(e,n,l,i){if(l==="upAndDown"){if(i[e+1][n]===h.transparent)return[e+1,n];if(i[e-1][n]===h.transparent)return[e-1,n]}else if(l==="leftAndRight"){if(i[e][n+1]===h.transparent)return[e,n+1];if(i[e][n-1]===h.transparent)return[e,n-1]}else if(l==="leftAndUp"){if(i[e-1][n+1]===h.transparent)return[e-1,n+1];if(i[e+1][n-1]===h.transparent)return[e+1,n-1]}else if(l==="rightAndUp"){if(i[e+1][n+1]===h.transparent)return[e+1,n+1];if(i[e-1][n-1]===h.transparent)return[e-1,n-1]}}function de(e,n){const l=[...e],i=l.pop(),s=l.pop();let o=[0,0];if(i){const{position:a,theme:f}=i,{result:r,direction:d}=R(a,f,3,n);if(r){const[t,_]=a,m=U(t,_,d,n);m&&(o=m)}}if(s){const{position:a,theme:f}=s,{result:r,direction:d}=R(a,f,3,n);if(r){const[t,_]=a,m=U(t,_,d,n);m&&(o=m)}}if(o[0]===0&&o[1]===0){const a=n.findIndex(r=>r.some(d=>d===0)),f=n[a].findIndex(r=>r===0);o=[a,f]}return o}function fe({handleVictoryMsg:e}){const n=b(!1),l=b(!1),i=D(()=>l?h.black:h.white),s=b(!1),o=b(S()),a=b([]),f=b([]),r=D(()=>{const{value:u}=a,p=u.length;return p?L(u[p-1].theme):h.black}),d=D(()=>L(r.value));function t(u,p){o.value[u][p]=r.value,a.value.push({position:[u,p],theme:r.value}),f.value.length&&(f.value=[])}function _(){o.value=S(),a.value=[],f.value=[],s.value=!1,n.value=!1,l.value=!1}function m(){_();const u=w.confirm({header:"\u6E38\u620F\u8BBE\u7F6E",body:"\u662F\u5426\u4EBA\u673A\u5BF9\u6218",confirmBtn:"\u786E\u5B9A",cancelBtn:"\u53D6\u6D88",onConfirm:({e:p})=>{var G;(G=u.hide)==null||G.call(u);const k=w.confirm({header:"\u6E38\u620F\u8BBE\u7F6E",body:"\u662F\u5426\u7535\u8111\u5148\u624B",confirmBtn:"\u786E\u5B9A",cancelBtn:"\u53D6\u6D88",onConfirm:({e:C})=>{var x;n.value=!0,l.value=!0,t(7,7),(x=k.hide)==null||x.call(k)},onClose:()=>{var C;n.value=!0,(C=k.hide)==null||C.call(k)}})},onClose:()=>{var p;(p=u.hide)==null||p.call(u)}})}function y(){s.value=!0,T.success({content:()=>e(d.value),duration:1e3})}function O(){if(a.value.length){const u=a.value.pop();o.value[u.position[0]][u.position[1]]=0,f.value.push(u)}}function z(){if(f.value.length){const u=f.value.pop();o.value[u.position[0]][u.position[1]]=u.theme,a.value.push(u)}}return $(()=>{if(s.value||a.value.length<9)return!1;const u=a.value[a.value.length-1],{result:p,direction:k}=R(u.position,u.theme,5,o.value);console.log("result",p),console.log("leftAndRight",k),p&&y()}),$(()=>{n.value&&i.value===r.value&&I(()=>{const[u,p]=de(a.value,o.value);t(u,p)})}),{isEndRef:s,boardRef:o,stepsRef:a,regretsRef:f,nowThemeRef:r,winnerRef:d,handleClickPiece:t,handleConfig:m,handleAdmitDefeat:y,handleClear:_,handleGoBack:O,handleReGoBack:z}}const he="_layout_igiop_1",pe="_header_igiop_4",ge="_content_igiop_11",me="_footer_igiop_15",ve="_card_igiop_19",_e="_shows_igiop_27",ke="_operation_igiop_28";var E={layout:he,header:pe,content:ge,footer:me,card:ve,shows:_e,operation:ke},Be=B({name:"GameInterface",setup(){function e(y){return c("div",{style:{display:"flex",alignItems:"center"}},[c(F,{theme:h[y],size:"small",style:{position:"unset"}},null),c("div",{style:{marginLeft:"10px"}},[v("\u80DC\u5229\uFF01\u70B9\u51FB [\u4E0A\u4E00\u6B65]\u3001[\u4E0B\u4E00\u6B65] \u6309\u94AE\u590D\u76D8\u5F53\u524D\u5C40\u3002\u70B9\u51FB [\u6E05\u76D8] \u91CD\u7F6E\u6E38\u620F\u3002")])])}const{isEndRef:n,boardRef:l,stepsRef:i,regretsRef:s,nowThemeRef:o,winnerRef:a,handleClickPiece:f,handleConfig:r,handleAdmitDefeat:d,handleClear:t,handleGoBack:_,handleReGoBack:m}=fe({handleVictoryMsg:e});return{isEnd:n,board:l,steps:i,regrets:s,nowTheme:o,winner:a,handleClickPiece:f,handleConfig:r,handleAdmitDefeat:d,handleClear:t,handleGoBack:_,handleReGoBack:m}},render(){const{steps:e,isEnd:n}=this;return c(g("t-layout"),{class:E.layout},{default:()=>[c(g("t-header"),{class:E.header},{default:()=>[v("\u4E94\u5B50\u68CB\u6E38\u620F")]}),c(g("t-content"),{class:E.content},{default:()=>[c(ae,{board:this.board,onPieceClick:this.handleClickPiece,disabled:n},null)]}),c(g("t-footer"),{class:E.footer},{default:()=>[c(ce,{stepsNum:e.length,isEnd:n,startDisabled:n||!!e.length,endDisabled:!e.length,goBackDisabled:!e.length,reGoBackDisabled:!this.regrets.length,nowTheme:this.nowTheme,onGoBack:this.handleGoBack,onReGoBack:this.handleReGoBack,onAdmitDefeat:this.handleAdmitDefeat,onClear:this.handleClear,onConfig:this.handleConfig},null)]})]})}});var be=(e,n)=>{const l=e.__vccOpts||e;for(const[i,s]of n)l[i]=s;return l};const ye=B({name:"App",components:{GameProgram:Be}});function Ae(e,n,l,i,s,o){const a=g("GameProgram");return q(),V(a)}var Ee=be(ye,[["render",Ae]]);const j=K(Ee);j.use(H);j.mount("#app");
